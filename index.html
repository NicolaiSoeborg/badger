<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Badger, badger, badger, mushroom, mushroom!</title>

        <!-- jQuery -->
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

        <!-- Bootstrap -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://bootswatch.com/flatly/bootstrap.css" crossorigin="anonymous">

        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <![endif]-->

        <!-- Backbone. TODO: Add hash of js files -->
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.3.3/backbone.js"></script>

        <style type="text/css">
            #container { width: 100%; overflow: hidden; }
            .draggable { cursor: move; }
            /*.menu { display: inline-block; float: left; padding: 2px; border-radius: 3px; background: rgb(90, 210, 135); }*/
            .badge { float: left; }
            .closeBtn { float: right; position: relative; right: 25px; top: 25px; }
            .hidden { display: none; }
            @media print { .no-print, .no-print * { display: none !important; } }
        </style>
    </head>
    <body>
        <div class="container">
        <nav class="navbar navbar-inverse navbar-fixed-top">
            <div class="navbar-header">
                <a class="navbar-brand" href="#">Badger</a>
            </div>
            <div id="navbar" class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li><a href="#">New badge</a></li>
                    <li><input type="text" class="form-control" placeholder="Select field to edit"></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="https://bedstforalle.soeborg.me">Er det bedst for alle?</a></li>
                </ul>
            </div>
        </nav>
        <div id="container-badges">Loading...</div>

        <script type="text/template" id="template-badge">
<div class="badge">
<button class="closeBtn no-print" title="Delete badge">X</button>
<svg version="1.1" baseProfile="full" width="300" height="300" xmlns="http://www.w3.org/2000/svg">
    <defs>
        <clipPath id="badge-cutoff">
            <circle cx="150" cy="150" r="2.5cm" stroke="black" stroke-width="0.1mm" fill="transparent" />
        </clipPath>
        <clipPath id="badge-full">
            <circle cx="150" cy="150" r="3cm" stroke="black" stroke-width="0.1mm" fill="transparent" />
        </clipPath>
        <path id="upper-path" d="<%= upper_path %>" stroke="black" stroke-width="2" fill-opacity="0.5" />
        <path id="lower-path" d="<%= lower_path %>" stroke="black" fill-opacity="0.5" />
    </defs>
    <image id="fgImg" xlink:href="picture_bg.jpg" x="-50" y="-50" height="400px" width="400px" clip-path="url(#badge-cutoff)" />
    <image id="bgImg" xlink:href="picture_bg.jpg" x="-50" y="-50" height="400px" width="400px" style="opacity: 0.2" class="draggable no-print" />
    <circle cx="150" cy="150" r="3cm" stroke="black" stroke-width="0.1mm" stroke-dasharray="5,5" fill="transparent" />
    <!-- Tekst -->
    <g font-size="25" fill="white" text-anchor="middle">
        <text>
            <textPath xlink:href="#upper-path" startOffset="50%"><%= upper_text %></textPath>
            <textPath xlink:href="#lower-path" startOffset="50%"><%= lower_text %></textPath>
        </text>
    </g>
    <text x="150" y="175" font-size="60" text-anchor="middle" fill="white"><%= middle_text %></text>
</svg>
</div>
        </script><!-- End template-badge -->

        <script type="text/javascript" src="app.js"></script>
        <script>
            $(document).ready(function(){
                var badges = new BadgeCollection([ new Badge(), new Badge() ]);
                var badgeView = new BadgeView({ collection: badges, el: $("#container-badges") });
                badgeView.render();
            })
        </script>
        </div>
    </body>
</html>
